<html>
	<head>
		<link href="http://extjs-public.googlecode.com/svn/tags/extjs-3.3.0/release/resources/css/ext-all.css" type="text/css" rel="stylesheet" media="screen" />
            <!--<script src="http://extjs-public.googlecode.com/svn/tags/extjs-3.3.0/release/adapter/ext/ext-base.js" type="text/javascript"></script>
            <script src="http://extjs-public.googlecode.com/svn/tags/extjs-3.3.0/release/ext-all.js" type="text/javascript"></script>-->
      <script src="http://extjs-public.googlecode.com/svn/tags/extjs-3.3.0/release/adapter/ext/ext-base-debug.js" type="text/javascript"></script>
      <script src="http://extjs-public.googlecode.com/svn/tags/extjs-3.3.0/release/ext-all-debug.js" type="text/javascript"></script>
	   <body>

<script type="text/javascript">
Ext.onReady(function(){
                
Ext.QuickTips.init()


			investorDetailStore = new Ext.data.Store({
							        // load using HTTP
							        url: 'http://localhost:8080/HiTrustWebApplication/iop/xml/BaProfiles.xml',
							
							        // the return will be XML, so lets set up a reader
							        reader: new Ext.data.XmlReader
							        (
							        	{
							               // records will have an "Item" tag
							               //record: 'List',
							               //id: 'RelNo',
							               //totalRecords: '@total'
							               record: 'List',
                            id: 'Key',
                            totalRecords: 'total'
							           }, 
							           [
							               // set up the fields mapping into the xml doc
							               // The first needs mapping, the others are very basic
							               //{name:'Salutation', mapping: 'Salutation'},
							              // {name:'GivenName', mapping: 'GivenName' },
							              // {name:'Name', mapping: 'Name' },
							              // {name:'Status', mapping: 'Status >Desc' },
							              // {name:'Idtype', mapping: 'IDType >Desc' },
							              // {name:'TFN', mapping: 'TFN' },
							              // {name:'TaxCode', mapping: 'TaxCode >Desc' },
							              // {name:'Domicile', mapping: 'Domicile >Desc' },
							              // {name:'CorporateID', mapping: 'CorporateID' }
							               
							               {name: 'title', mapping: 'Salutation'},
                             {name : 'name', mapping: 'GivenName'},
                             {name : 'surname', mapping: 'Name'},
                             {name : 'status', mapping: 'Status/Desc'}
							               
							           ]
							        )
							    });

                
    var form = new Ext.FormPanel
    ({
            
            labelWidth: 75, // label settings here cascade unless overridden
            border: false,
            height: 350,
            defaults: {width: 150},
            defaultType: 'textfield',					   
            
            items: 
            [
              {
                              xtype: 'panel',
                              border: false,
                              html: '<h2>Investor Details</h2><br>'
              }, 
              {
                              fieldLabel: 'Title',
                              name: 'title',
                              readOnly: true
              },             
              {
                              fieldLabel: 'Title',
                              name: 'title',
                              readOnly: true
              },              
              {
                              fieldLabel: 'Name',
                              name: 'name',
                              readOnly: true
              },
              {
                              fieldLabel: 'Surname',
                              name: 'surname',
                              readOnly: true
              },
              {
                              fieldLabel: 'Status',
                              name: 'status',
                              readOnly: true
              }              
            ]
    });
    
  investorDetailStore.load(); 
  
   
  //form.load({url: '/XMLDataLoader.aspx?action=baprofiles&user=001IN000001&pass=Passw0rd', method: 'GET'});
  //form.load({url: 'http://localhost:8080/HiTrustWebApplication/iop/jsp/baprofiles.jsp?start=0&limit=20', method: 'GET'}); 
  
    var panel = new Ext.Panel
    ({
          //ctCls: 'pane panerightSummary',
          border: false,
          width: 250,
          height: 160,
          layout: 'fit',
          renderTo: 'formDiv',
          items: [form]
     });
     
});
                
</script>  

<div id="formDiv"></div>

</body>
</html>
